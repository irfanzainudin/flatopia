"""
移民咨询专用提示词模板
"""
from typing import Dict, Any, List


class ImmigrationPrompts:
    """移民咨询提示词Management"""
    
    @staticmethod
    def get_system_prompt() -> str:
        """获取System提示词"""
        return """# 🌍 Global Immigration Advisor - 全球移民顾问

## 角色定义
你是一位专业的全球移民顾问，拥有丰富的国际移民法律、政策、文化适应和职业规划经验。你的使命是帮助来自不同国家的用户找到最适合的移民目的地，并提供详细的移民路径规划。

### 🎯 核心特质
- **专业权威**：基于最新移民政策和法律法规提供准确建议
- **全球视野**：了解各国移民政策、文化差异和就业市场
- **个性化Service**：根据用户具体情况定制移民方案
- **实用导向**：提供可操作的具体步骤和时间规划

### 🧠 专业知识领域
- **移民法律**：各国签证类型、申请条件、法律要求
- **职业规划**：技能评估、职业认证、就业市场分析
- **教育咨询**：留学申请、学历认证、奖学金机会
- **文化适应**：语言要求、文化差异、生活成本
- **长期规划**：永久居民申请、公民身份、家庭团聚

### 💬 Service原则
1. **准确性优先**：确保信息准确，及时更新政策变化
2. **个性化定制**：根据用户背景和目标定制方案
3. **风险提示**：明确说明潜在风险和挑战
4. **持续支持**：提供长期规划建议和后续支持

### 🎨 回答风格
- Use清晰的标题和结构化格式
- 提供具体的国家、政策、时间节点
- 给出实用的申请步骤和材料清单
- 主动提供相关资源和延伸阅读"""

    @staticmethod
    def get_user_profile_prompt() -> str:
        """获取用户信息收集提示词"""
        return """# 📋 用户信息收集

为了为您提供最准确的移民建议，我需要了解以下信息：

## 基本信息
- **年龄**：请提供您的年龄
- **性别**：请选择您的性别
- **国籍**：您当前持有的国籍
- **居住地**：您目前居住的国家/地区

## 移民目标
- **目标国家**：您希望移民到哪个国家？
- **移民目的**：工作/学习/永久居住/旅游/其他
- **时间规划**：您希望多长时间内完成移民？

## 个人背景
- **教育背景**：最高学历、专业领域、学校排名
- **工作经验**：工作年限、行业、职位级别、技能
- **语言能力**：掌握的语言及水平（如雅思、托福等成绩）
- **家庭情况**：婚姻状况、是否有子女、配偶背景

## 特殊考虑
- **预算范围**：可承受的移民费用
- **健康情况**：是否有特殊医疗需求
- **犯罪记录**：是否有犯罪记录或拒签历史
- **其他要求**：气候偏好、文化偏好、特定城市等

请详细填写以上信息，我将为您制定最适合的移民方案。"""

    @staticmethod
    def get_immigration_analysis_prompt(user_info: Dict[str, Any]) -> str:
        """获取移民分析提示词"""
        return f"""# 🔍 移民方案分析

## 用户信息
{user_info}

## 分析要求
基于用户信息，请从以下维度进行深入分析：

### 1. 可行性评估
- **签证类型匹配**：推荐最适合的签证类型
- **申请条件符合度**：分析是否符合基本要求
- **Success率评估**：基于类似案例的Success概率
- **时间规划**：整个申请流程的时间安排

### 2. 目标国家分析
- **移民政策**：当前移民政策趋势和变化
- **语言要求**：官方语言要求和语言考试
- **就业市场**：相关行业就业机会和薪资水平
- **生活成本**：住房、教育、医疗等生活费用
- **文化适应**：文化差异和适应建议

### 3. 具体路径规划
- **短期目标**（1-2年）：签证申请、语言提升、技能认证
- **中期目标**（3-5年）：工作/学习、社会融入、网络建设
- **长期目标**（5年以上）：永久居民、公民身份、家庭团聚

### 4. 风险与挑战
- **政策风险**：政策变化对申请的影响
- **竞争风险**：申请竞争激烈程度
- **经济风险**：费用超支或经济压力
- **适应风险**：文化适应和语言障碍

### 5. 备选方案
- **替代国家**：如果首选国家不可行，推荐备选
- **替代路径**：不同的移民方式和策略
- **时间调整**：如果时间紧迫，如何优化方案

请提供详细、实用的分析报告，帮助用户做出明智决策。"""

    @staticmethod
    def get_visa_guide_prompt(country: str, visa_type: str, user_profile: Dict[str, Any]) -> str:
        """获取签证指南提示词"""
        return f"""# 🛂 {country} {visa_type} 签证申请指南

## 用户背景
{user_profile}

## 签证信息
- **目标国家**：{country}
- **签证类型**：{visa_type}

## 申请指南
请提供以下详细信息：

### 1. 申请条件
- **基本要求**：年龄、学历、工作经验等硬性条件
- **语言要求**：所需语言考试及分数要求
- **资金要求**：资金证明、收入要求、担保要求
- **健康要求**：体检要求、健康保险等

### 2. 申请流程
- **准备阶段**：材料准备、考试安排、时间规划
- **申请阶段**：在线申请、材料提交、费用支付
- **审核阶段**：审核时间、补充材料、面试安排
- **获批阶段**：签证领取、入境准备、后续步骤

### 3. 所需材料
- **身份File**：护照、身份证、出生证明等
- **教育File**：学历证书、成绩单、认证File
- **工作File**：工作证明、推荐信、技能证书
- **财务File**：银行证明、收入证明、担保File
- **其他File**：体检报告、无犯罪证明、照片等

### 4. 费用预算
- **申请费用**：签证费、体检费、认证费等
- **考试费用**：语言考试、技能考试等
- **Service费用**：中介费、律师费、翻译费等
- **其他费用**：机票、住宿、生活费等

### 5. 时间规划
- **准备时间**：材料准备、考试准备所需时间
- **申请时间**：从提交到获批的预计时间
- **有效期**：签证有效期和续签要求
- **关键节点**：重要的截止日期和里程碑

### 6. 注意事项
- **常见拒签原因**：如何避免常见Error
- **政策变化**：最新政策变化和影响
- **Success案例**：类似背景的Success申请案例
- **专业建议**：提高Success率的专业建议

请提供详细、准确的申请指南，帮助用户顺利完成签证申请。"""

    @staticmethod
    def get_pr_planning_prompt(country: str, current_status: str, user_profile: Dict[str, Any]) -> str:
        """获取永久居民规划提示词"""
        return f"""# 🏠 {country} 永久居民申请规划

## 用户背景
{user_profile}

## 当前状态
- **目标国家**：{country}
- **当前身份**：{current_status}

## 永久居民规划
请提供以下详细规划：

### 1. 申请条件分析
- **居住要求**：在目标国家的居住时间要求
- **工作/学习要求**：工作或学习经历要求
- **语言要求**：语言能力证明要求
- **融入要求**：文化融入、社区参与等要求
- **其他条件**：年龄、健康、品格等要求

### 2. 时间规划
- **准备阶段**：满足申请条件所需时间
- **申请阶段**：从申请到获批的预计时间
- **等待阶段**：审核期间的注意事项
- **获批后**：获得PR后的权利和义务

### 3. 申请策略
- **积分System**：如果适用，如何提高积分
- **技能提升**：需要提升的技能和认证
- **工作经验**：需要积累的工作经验
- **语言提升**：语言能力提升计划
- **社区参与**：如何参与社区活动

### 4. 材料准备
- **身份证明**：护照、签证、居住证明等
- **工作证明**：工作合同、工资单、推荐信等
- **学习证明**：学历证书、成绩单、语言证书等
- **财务证明**：银行对账单、税务记录等
- **品格证明**：无犯罪证明、推荐信等

### 5. 费用预算
- **申请费用**：PR申请费、体检费、认证费等
- **准备费用**：技能提升、语言培训等费用
- **生活费用**：在等待期间的生活费用
- **其他费用**：律师费、翻译费等

### 6. 风险控制
- **政策风险**：政策变化对申请的影响
- **时间风险**：申请时间延长的应对措施
- **条件风险**：无法满足条件的备选方案
- **经济风险**：费用超支的应对措施

### 7. 后续规划
- **公民身份**：获得PR后申请公民身份的规划
- **家庭团聚**：配偶和子女的移民规划
- **职业发展**：在目标国家的职业发展规划
- **生活规划**：住房、教育、医疗等生活规划

请提供详细、实用的永久居民申请规划，帮助用户实现长期移民目标。"""

    @staticmethod
    def get_country_comparison_prompt(countries: List[str], user_profile: Dict[str, Any]) -> str:
        """获取国家对比提示词"""
        return f"""# 🌍 移民目的地国家对比分析

## 用户背景
{user_profile}

## 候选国家
{', '.join(countries)}

## 对比分析
请从以下维度对比分析各候选国家：

### 1. 移民政策对比
- **签证类型**：各国家可申请的签证类型
- **申请条件**：基本申请条件和要求
- **Success率**：基于用户背景的Success概率
- **政策稳定性**：政策变化频率和趋势

### 2. 生活成本对比
- **住房成本**：租房、买房价格对比
- **生活费用**：食品、交通、娱乐等费用
- **教育成本**：学费、教育质量对比
- **医疗成本**：医疗保险、医疗质量对比

### 3. 就业市场对比
- **行业机会**：相关行业就业机会
- **薪资水平**：平均薪资和增长潜力
- **工作文化**：工作环境和文化差异
- **职业发展**：职业发展空间和机会

### 4. 文化适应对比
- **语言要求**：官方语言和学习难度
- **文化差异**：与用户背景文化的差异
- **社区支持**：同乡社区和支持网络
- **融入难度**：文化融入的难易程度

### 5. 教育质量对比
- **教育体系**：教育制度和质量
- **大学排名**：知名大学和排名
- **专业选择**：相关专业和课程
- **就业前景**：教育后的就业前景

### 6. 长期规划对比
- **永久居民**：PR申请条件和时间
- **公民身份**：入籍条件和时间
- **家庭团聚**：配偶子女移民政策
- **双重国籍**：是否允许双重国籍

### 7. 综合评分
- **适合度评分**：基于用户背景的适合度（1-10分）
- **推荐指数**：综合推荐指数（1-10分）
- **风险等级**：移民风险等级（低/中/高）
- **时间成本**：完成移民的时间成本

### 8. 个性化建议
- **首选推荐**：最适合的国家及理由
- **备选推荐**：次选国家及理由
- **风险提示**：各国家的主要风险
- **优化建议**：如何提高申请Success率

请提供详细、客观的对比分析，帮助用户做出最佳选择。"""

    @staticmethod
    def get_follow_up_planning_prompt(user_profile: Dict[str, Any], selected_country: str, visa_type: str) -> str:
        """获取后续规划提示词"""
        return f"""# 📅 {selected_country} 移民后续规划

## 用户背景
{user_profile}

## 移民方案
- **目标国家**：{selected_country}
- **签证类型**：{visa_type}

## 后续规划
请提供详细的后续规划建议：

### 1. 短期规划（1-6个月）
- **签证申请**：具体申请步骤和时间安排
- **材料准备**：需要准备的所有材料清单
- **考试安排**：语言考试、技能考试等安排
- **资金准备**：资金证明和费用预算

### 2. 中期规划（6个月-2年）
- **入境准备**：入境前的准备工作
- **初期适应**：到达后的适应期规划
- **工作/学习**：工作或学习安排
- **社会融入**：语言学习、社区参与等

### 3. 长期规划（2-5年）
- **身份转换**：从临时身份到永久居民
- **职业发展**：职业规划和技能提升
- **家庭规划**：配偶子女的移民安排
- **生活稳定**：住房、教育、医疗等安排

### 4. 关键里程碑
- **重要时间节点**：申请截止日期、考试时间等
- **关键决策点**：需要做出重要决策的时间点
- **Success指标**：衡量移民Success的关键指标
- **风险控制点**：需要特别关注的风险点

### 5. 资源支持
- **官方资源**：政府网站、官方指南等
- **专业Service**：律师、中介、顾问等专业Service
- **社区支持**：同乡会、移民组织等
- **在线资源**：相关网站、论坛、APP等

### 6. 应急计划
- **政策变化**：政策变化时的应对措施
- **申请Failed**：申请Failed后的备选方案
- **经济困难**：经济困难时的应对措施
- **健康问题**：健康问题时的应对措施

请提供详细、实用的后续规划，帮助用户顺利实现移民目标。"""
